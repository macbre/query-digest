query-digest
============

This is a **dynamic code analysis tool** that processes last 24h of **SQL queries logs generated by MediaWiki** in SJC prod environment and reports
those made by given feature (use `--path` option).

It then reports the following:

* the source host type (web, offline)
* normalized query
* method that called it
* median query time
* no of query calls
* sum of query times
* median of rows returned

## Install

```bash
make install
```

## Run it

> `DEBUG=1` env variable will enable debug level logging

```
source env/bin/activate
query-digest --path="/extensions/wikia/Wall"
query-digest --path="/extensions/wikia/Wall" --csv
```
